<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Plotly Graph from JSON</title>
    <script src="https://cdn.plot.ly/plotly-latest.min.js"></script>
</head>
<body>

<h2>Select Trace Number to Plot</h2>
<input type="number" id="traceInput" placeholder="Enter trace number" min="0">
<button id="plotButton">Plot Graph</button>
<div id="myDiv" style="width: 100%; height: 100%;"></div>

<script>
// test data
const mockData = {
    0: { x: [1, 2, 3], y: [10, 20, 30], name: "Trace 0" },
    1: { x: [1, 2, 3], y: [15, 25, 35], name: "Trace 1" },
    2: { x: [1, 2, 3], y: [20, 30, 40], name: "Trace 2" }
};

// Function to fetch data and plot the graph
document.getElementById('plotButton').addEventListener('click', () => {
    const traceNumber = document.getElementById('traceInput').value; // Get user input

    // Simulate a POST request 
    const selectedTrace = mockData[traceNumber]; //  data based on user input

    if (selectedTrace) {
        const trace = {
            x: selectedTrace.x,
            y: selectedTrace.y,
            type: 'scatter', // type graph
            name: selectedTrace.name || 'Trace' // 
        };

        const layout = {
            title: `Graph for Trace ${traceNumber}`,
            xaxis: {
                title: 'X-Axis Label'
            },
            yaxis: {
                title: 'Y-Axis Label'
            }
        };

        Plotly.newPlot('myDiv', [trace], layout); // Render the graph
    } else {
        alert('Trace not found!');
    }
});
</script>

</body>
</html>